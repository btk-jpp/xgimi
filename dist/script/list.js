"use strict";!function(a){var i=[],e=[],o=null,c=null;a(document).ready(function(){a("header").load("header.html"),a("footer").load("footer.html")});var t=a(".list");a.ajax({url:"http://localhost/xgimi/php/listdata.php",dataType:"json"}).done(function(n){var l="<ul>";a.each(n,function(n,t){l+='\n                <li>\n                    <a href="detail.html?sid='+t.sid+'">\n                        <p>\n                            <img class="lazy" data-original="'+t.url+'" >\n                        </p>\n                        <p class="pname"> '+t.title+' </p>\n                        <p><b class="price"> '+t.price+"</b><font>元</font></p>\n                    </a>\n                </li>\n            "}),l+="</ul>",t.html(l),a(function(){a("img.lazy").lazyload({effect:"fadeIn"})}),i=[],e=[],c=o=null,a(".list li").each(function(n,t){e[n]=a(this),i[n]=a(this)})}),a(".page").pagination({pageCount:3,jump:!0,coping:!0,prevContent:"<上一页",nextContent:"下一页>",homePage:"首页",endPage:"尾页",callback:function(n){console.log(n.getCurrent()),a.ajax({url:"http://localhost/xgimi/php/listdata.php",data:{page:n.getCurrent()},dataType:"json"}).done(function(n){var l="<ul>";a.each(n,function(n,t){l+='\n                <li>\n                    <a href="detail.html?sid='+t.sid+'">\n                        <p>\n                            <img src="'+t.url+'" >\n                        </p>\n                        <p class="pname"> '+t.title+' </p>\n                        <p><b class="price"> '+t.price+"</b><font>元</font></p>\n                    </a>\n                </li>\n                    "}),l+="</ul>",t.html(l),i=[],e=[],c=o=null,a(".list li").each(function(n,t){e[n]=a(this),i[n]=a(this)})})}}),a("button").eq(0).on("click",function(){a.each(i,function(n,t){a(".list ul").append(t)})}),a("button").eq(1).on("click",function(){for(var n=0;n<e.length-1;n++)for(var t,l=0;l<e.length-n-1;l++){o=parseFloat(e[l].find(".price").html().substring(1)),(c=parseFloat(e[l+1].find(".price").html().substring(1)))<o&&(t=e[l],e[l]=e[l+1],e[l+1]=t)}a.each(e,function(n,t){console.log(t),a(".list ul").append(t)})}),a("button").eq(2).on("click",function(){for(var n=0;n<e.length-1;n++)for(var t,l=0;l<e.length-n-1;l++){o=parseFloat(e[l].find(".price").html().substring(1)),c=parseFloat(e[l+1].find(".price").html().substring(1)),o<c&&(t=e[l],e[l]=e[l+1],e[l+1]=t)}a.each(e,function(n,t){console.log(t),a(".list ul").append(t)})})}(jQuery);